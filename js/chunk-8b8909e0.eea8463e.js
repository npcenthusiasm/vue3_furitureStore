(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8b8909e0"],{"454f":function(t,e,s){s("46a7");var a=s("584a").Object;t.exports=function(t,e,s){return a.defineProperty(t,e,s)}},"456d":function(t,e,s){var a=s("4bf8"),r=s("0d58");s("5eda")("keys",(function(){return function(t){return r(a(t))}}))},"46a7":function(t,e,s){var a=s("63b6");a(a.S+a.F*!s("8e60"),"Object",{defineProperty:s("d9f6").f})},"5eda":function(t,e,s){var a=s("5ca1"),r=s("8378"),i=s("79e5");t.exports=function(t,e){var s=(r.Object||{})[t]||Object[t],o={};o[t]=e(s),a(a.S+a.F*i((function(){s(1)})),"Object",o)}},"5f4f":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container mb-4"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-4"},[s("div",{staticClass:"border border-black px-2 py-4 text-center",class:{"alert alert-primary":"1"===t.progess}},[t._v("\n          1. 確認購買清單\n        ")])]),s("div",{staticClass:"col-4"},[s("div",{staticClass:"border border-black px-2 py-4 text-center",class:{"alert alert-primary":"2"===t.progess}},[t._v("\n         2. 填寫訂單資料\n        ")])]),s("div",{staticClass:"col-4"},[s("div",{staticClass:"border border-black px-2 py-4 text-center",class:{"alert alert-primary":"3"===t.progess}},[t._v("\n          3. 完成\n        ")])])])])])},r=[],i={props:["progess"]},o=i,l=s("2877"),n=Object(l["a"])(o,a,r,!1,null,null,null);e["a"]=n.exports},"85f2":function(t,e,s){t.exports=s("454f")},"8d00":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("BuyProgress",{attrs:{progess:t.step}}),s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"collapse",attrs:{id:"collapseOne","aria-labelledby":"headingOne"}},[s("table",{staticClass:"table table-sm"},[t._m(1),s("tbody",t._l(t.carts,(function(e){return s("tr",{key:e.id},[s("td",[s("div",{staticClass:"d-flex"},[s("div",[t._v("\n                  "+t._s(e.product.title)+"\n                ")])])]),s("td",{staticClass:"align-middle text-center",staticStyle:{"font-size":"14px"}},[t._v("\n              "+t._s(e.qty)+"/"+t._s(e.product.unit))]),s("td",{staticClass:"align-middle text-right",staticStyle:{"font-size":"14px"}},[t._v("\n              "+t._s(e.product.origin_price))]),s("td",{staticClass:"align-middle text-right",staticStyle:{"font-size":"14px"}},[t._v("\n              "+t._s(e.product.price)+"\n            ")]),s("td",{staticClass:"align-middle text-right",staticStyle:{"font-size":"14px"}},[t._v("\n              "+t._s(e.total)+"\n            ")])])})),0)])]),s("div",{staticClass:"mb-4"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"username"}},[t._v("姓名")]),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),t.errors.has("name")?s("span",{staticClass:"text-danger"},[t._v("姓名必須輸入")]):t._e()])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"usertel"}},[t._v("電話")]),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("tel")},attrs:{type:"tel",id:"usertel",name:"tel",placeholder:"輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),t.errors.has("tel")?s("span",{staticClass:"text-danger"},[t._v("電話必須輸入")]):t._e()])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"useremail"}},[t._v("信箱")]),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"輸入信箱"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),t.errors.has("email")?s("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"useraddress"}},[t._v("地址")]),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"text",name:"address",id:"useraddress",placeholder:"輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),t.errors.has("address")?s("span",{staticClass:"text-danger"},[t._v("電話必須輸入")]):t._e()])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"address"}},[t._v("備註")]),s("div",{staticClass:"col-sm-10"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{id:"address",cols:"30",rows:"5",placeholder:""},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})])])]),s("div",{staticClass:"col-md-4"},[s("table",{staticClass:"table order-table "},[s("tbody",[s("tr",[s("td",[t._v("總金額")]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.total)))])]),s("tr",[s("td",[t._v("優惠折抵")]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.total-t.final_total)))])]),s("tr",[s("td",[t._v("應付金額")]),s("td",{staticClass:"text-right text-success"},[t._v(t._s(t._f("currency")(t.final_total)))])])])])]),s("div",{staticClass:"col"},[s("div",{staticClass:"d-flex"},[s("router-link",{staticClass:"btn btn-outline-primary mr-auto",attrs:{to:"/orderCheck"}},[t._v("\n              上一步\n              ")]),s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"submit"}},[t._v("建立訂單")])],1)])])])])])],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card mb-4"},[s("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[s("div",{staticClass:"d-flex align-items-end"},[s("button",{staticClass:"btn btn-link mr-auto",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[t._v("\n            顯示購物車細節\n          ")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"mb-4"},[s("tr",[s("th",{staticClass:"text-center"},[t._v("商品資訊")]),s("th",{staticClass:"text-center",attrs:{width:"50"}},[t._v("數量")]),s("th",{staticClass:"text-right",attrs:{width:"100"}},[t._v("單價")]),s("th",{staticClass:"text-right",attrs:{width:"100"}},[t._v("折扣價")]),s("th",{staticClass:"text-right",attrs:{width:"100"}},[t._v("小計")])])])}],i=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),o=s("2f62"),l=s("5f4f");function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(s,!0).forEach((function(e){Object(i["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={components:{BuyProgress:l["a"]},data:function(){return{step:"2",form:{user:{name:"",email:"",tel:"",address:""},message:""},order:{user:{}}}},methods:c({},Object(o["b"])("cartsModules",["getCart"]),{createOrder:function(){var t=this,e=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("npcenthusiasm","/order"),a=e.form;this.$validator.validate().then((function(r){r&&t.$http.post(s,{data:a}).then((function(t){t.data.success&&e.$router.push("/orderCompelete/".concat(t.data.orderId))}))}))}}),computed:c({},Object(o["c"])("cartsModules",["carts","total","final_total","cartsCount"])),created:function(){this.getCart(),0===this.cartsCount&&this.$router.back()}},u=d,m=(s("c2bb"),s("2877")),v=Object(m["a"])(u,a,r,!1,null,"26e45f4a",null);e["default"]=v.exports},"8e6e":function(t,e,s){var a=s("5ca1"),r=s("990b"),i=s("6821"),o=s("11e9"),l=s("f1ae");a(a.S,"Object",{getOwnPropertyDescriptors:function(t){var e,s,a=i(t),n=o.f,c=r(a),d={},u=0;while(c.length>u)s=n(a,e=c[u++]),void 0!==s&&l(d,e,s);return d}})},"990b":function(t,e,s){var a=s("9093"),r=s("2621"),i=s("cb7c"),o=s("7726").Reflect;t.exports=o&&o.ownKeys||function(t){var e=a.f(i(t)),s=r.f;return s?e.concat(s(t)):e}},bd86:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var a=s("85f2"),r=s.n(a);function i(t,e,s){return e in t?r()(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}},c2bb:function(t,e,s){"use strict";var a=s("d611"),r=s.n(a);r.a},d611:function(t,e,s){},f1ae:function(t,e,s){"use strict";var a=s("86cc"),r=s("4630");t.exports=function(t,e,s){e in t?a.f(t,e,r(0,s)):t[e]=s}}}]);
//# sourceMappingURL=chunk-8b8909e0.eea8463e.js.map